# crypto_solidity

Схема алгоритма тут 
https://miro.com/app/board/o9J_llMbqyY=/?invite_link_id=913984598901

**Как сгенерировать commitment:**  
in shell:  
```
pip3 install web3
```

in python3:
```
import web3
web3.Web3.solidityKeccak(['string', 'string'], ['paper', 'password12345'])
HexBytes('0xb0c1f97a3a2b7f321dcef007069b5aa7b7d8f608e59fac217519f6fd4450076c')
```

**Примечание:**  
В коде выше есть  ['paper', 'password12345'] - тут paper – это выбор пользователя, а password12345 – секрет, чтобы по хэшу нельзя было восстановить выбор (HMAC).
Дальше в сам смарт-контракт можно передавать только полученный хэш, как в данном случае 0xb0c1f97a3a2b7f321dcef007069b5aa7b7d8f608e59fac217519f6fd4450076c. Затем выбор и секрет можно передать в reveal_choice.  

Пользователи не видят значения друг друга, поскольку изначально в смарт-контракт записываются хэши от секрета и выбора. 
Затем после старта игры (когда оба выбора уже рассекречены) рассылаются уведомления о том, кто какой выбор сделал.  
